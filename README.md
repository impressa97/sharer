# WinterTake
<i>Внимание читателю: Этот гит-репозиторий создавался как приватный, и использовался для контроля рабочего времени уделенного дипломной работе,</br> <b>комментарии в коммитах у меня самого вызывают конфуз</b></i>.

<h1>Задача работы</h1>
<p>Разработать web-приложение для проката оборудования и контроля его состояния. Пользователями web-приложения являются арендаторы прокатного оборудования и менеджеры, ведущие его учет.</p>
<h2>Основные функции, которые должно выполнять данное web-приложение:</h2>
<ul>
<li>Показ информации о предприятии;</li>
<li>Возможность редактирования информации;</li>
<li>Возможность удаления\добавления нового прокатного оборудования;</li>
<li>Возможность просмотра информации о товаре;</li>
<li>Возможность аренды прокатного оборудования.</li>
</ul>
<h2>Задачи проектирования:</h2>
<p>Максимально упростить и ускорить процедуру аренды товара
Ограничить воздействие некорректных действий пользователя на систему учета.
Минимизировать затраты системных ресурсов, необходимых для нормальной работы web-приложения</p>
<h2>Структура каталогов:</h2>
<p>В корневом каталоге находятся файлы:
.env – В нем находится информация необходимая для подключения к базе данных, верификации токенов пользователей и порте, на котором будет запущенно приложение.</p>
<ul> 
<li>index.js – первый исполняемый файл приложения, инициализирует сервер, описывает маршрутизацию.</li>
<li>validation.js – файл валидации данных формы при регистрации пользователя. Используется для проверки корректности введенных данных.
<li>В каталоге documents/images перечислены изображения прокатного оборудования, к ним открыт доступ ссылке http://localhost:3001/images.</li>
<li>В каталоге models описаны модели и связи таблиц посредством использования библиотеки sequalize. Sequlize осуществляет сопоставление таблиц в базе данных с внутренней моделью библиотеки для предоставления возможности разработчику извлекать данные из связанных таблиц, не делая к ним отдельного запроса, а лишь описав необходимость использовать данные смежных таблиц.</li>
<li>В каталоге node_modules содержатся дополнительные модули приложения, загруженные через пакетный менеджер npm.</li>
<li>В каталоге routes описаны пути (route) запросов приложения, посредством их использования у клиентского приложения появляется доступ к серверным функциям, то есть, пути являются API - (Application Programming Interface — программный интерфейс приложения)</li>
</ul>

<h2>Фреймворки и библиотеки серверного приложения:</h2>
<li>Bcryptjs - адаптивная криптографическая хеш-функция формирования ключа, используемая для защищенного хранения паролей. Используется на серверной части приложения.</li>
<li>body-parser - модуль промежуточного программного обеспечения для обработки HTTP POST запроса в Express, позволяет извлечь всю часть тела входящего потока запросов и возвратить его содержимое в req.body. Используется на серверной части приложения.</li>
<li>CORS (Cross-Origin Resource Sharing) - механизм, использующий дополнительные заголовки HTTP, чтобы дать браузерам указание предоставить веб-приложению, работающему в одном источнике, доступ к ответу на запрос к ресурсам из другого источника. Необходим для соединения серверного приложения с клиентским приложением. Используется на серверной части приложения.</li>
<li>Dotenv - анализирует файлы .env, чтобы сделать переменные окружения, хранящиеся в них, доступными через getenv(). Необходим на серверной части приложения для удобства развертывания приложения на разных машинах.</li>
<li>Express - фреймворк web-приложений для Node.js для создания веб-приложений и API. Используется на серверной части приложения.</li>
<li>Joi - валидатор данных форм. Используется на серверной части приложения.</li>
<li>Jsonwebtoken – модуль для создания токенов доступа, основанный на формате JSON. Используется на серверной части приложения для аутентификации токена пользователя.</li>
<li>multer– модуль для обработки http-запросов, содержащих файлы multipart/form-data. Используется на серверной части приложения для загрузки изображений товаров.</li>
<li>mysql2 – модуль драйвера MYSQL. Используется на серверной части приложения для обращений к базе данных.</li>
<li>Nodemon – это утилита интерфейса командной строки, которая отслеживает файловую систему приложения Node и автоматически перезапускает процесс, в случае обновления данных приложения. Используется на серверной части приложения для отладки приложения.</li>
<li>Sequelize - объектно-реляционное отображение модели базы данных для работы с на серверной части приложения с MYSQL.</li>

<h2>Структура БД</h2>
<p>В базе данных должна храниться информация о прокатном оборудовании, его типе, истории действий с ним, смысла действия, а также информация о пользователях и их ролях. Можно выделить следующие сущности:</p>
<ul>
<li>«users» (пользователи)</li>
<li>«user_roles» (роли пользователей)</li>
<li>«goods» (прокатное оборудование)</li>
<li>«goods_story» (история прокатного оборудования)</li>
<li>«objectives» (тип действия с прокатным оборудованием).</li>
</ul>
<p>Единица прокатного оборудования, описанная таблицей «goods», имеет много записей ее действий «goods_story», записи действий «goods_story» имеют отношения с таблицами «objectives» и «users» «один к одному», таким образом можно понять кто произвел действие с прокатным оборудованием и что это было за действие. Так же сущности «users» и «user_roles» связаны по принципу «один ко многим», так как у одного пользователя может быть только одна роль.</p>
